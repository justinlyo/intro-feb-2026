# 2026-02-12



# Quiz

1. When do we use the async/await pattern (that your instructor hasn't even explained yet) in our C# code?

This is for external calls like other services or databases in which we expect a wait in response


2. What is Open API? 
* What is Scalar? (the thing we added to AppHost)

It lets us and other developers to interact with the API without needing to look into the source code
Scalar makes this information looks nice and provides endpoint testing

3. Why did we use an Http DELETE method in our `student/moments` endpoint when we really didn't "delete" anything?

Nothing is actually deleted but it tells the database that it intends to remove it

4. Consider the following code we created yesterday:

```csharp
 public static async Task<IResult> MarkQuestionAnswered(Guid id, IDocumentSession session)
    {
        // ...
    }
```

- How is our API being made "aware" that this is the code it should run when receiving an Http DELETE request to `student/moments/b0f17531-ca09-41dd-8654-d0eb180f6797` (for example)?

Controllers: use annotations like [HttpDelete] and it maps HTTP methods or functions to different actions within the container
Not Controller: This maps methods like the 'MapDelete' to different HTTP methods or functions, it doesn't need a controller class

(controller class is a class that acts as a container that handles http requests)

- Where are the `id` and `session` variables coming from when this method is executed?



- If the API received a request of `DELETE /student/moments/bird-cage` what would the value of `id` be when this code is executed (uhm, might be a trick question), but explain your answer.

Produces an 404 error because it cannot run since it cant be casted to a GUID. Guid is supposed to be 32 characters long, and bird-cage doesn't fit that

- The database provider we are using here calls it a "session", sometimes it's called a "context", and ASP.NET MVC (our platform for building APIs) calls it a "scope". But they all mean basically the same thing in this context, which is:

Manages all the database operations





#


API requests from an external service (ex. database)
* We can control some of the speed for sending/receiving requests, but we can't control most of the I/O operations during the request (hardware/network/file system/database, etc.)
* ASYNC will allow the current thread to be freed while waiting for the I/O operation to finish. Then once it completes, the thread will continue from its original spot from the thread pool



#

Developer Testing
- exceeds normal "software testing"
    - 'does it meet the business and technical requirements'
    - testing our implementation, thinking, finding concepts (duplication), etc.

Kent Beck's Four Rules of Simple Design
1. Passes the Tests - Works
* Start with the end in mind
* Write a test that will fail at first
2. Expresses Intent - Understandable
3. No Duplication - You've indentified concepts
4. Fewest Elements - Less is better

##

Guardrail
- set a time limit to create a test case, and if you cannot get the test to pass within that time then the test is too hard. Restart.

Test driven development
Write a failing test -> Make it pass -> make it good (refactor) -> repeat

# Small Project


Need 2 assemblies

1. Assemby - Test
2. Assembly - That you are testing (System Under Test (SUT))

- Write come code that can be discovered automatically by a test runner, and the test will execute that code
- As long as the code doesn't blow up (throw an exception) it counts as a passing test

- Visual Studio runs the tests and let us know how we are doing, we can also run it in CI Pipeline

# Coupling & Cohesion

- Coupling "The strength of relationships between code modules"
    - how easy is it to change ont hing without needing to change (or break) something else?
    - "Inappropriate Intimacy"
    - We want low coupling
- Cohesion - "How well things go together"
    - "Junk PIle" - "incidental cohesion" - A "Utils" or "Helpers"
    - "Temporal" - have the stuff close at hand to where it is needed


#

Unit tests have to be a public class

Has to be a public method/function with void


[Fact] cannot take arguments during unit testing
* [Theory] is the alternative

[InlineData(10,20,30)]
* Passes variables into the function with the variable names
* Very helpful for doing this repeatedly


Putting M after 500M makes it a decimal (deciMal)